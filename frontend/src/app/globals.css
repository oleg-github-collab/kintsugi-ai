@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-digital-black;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
  }

  body {
    @apply bg-digital-black text-digital-white antialiased font-mono;
    cursor: none;
    overflow-x: hidden;
    min-height: 100vh;
    margin: 0;
    padding: 0;
  }

  #__next {
    min-height: 100vh;
  }
}

/* Custom Cursor */
.cursor-cross {
  position: fixed;
  width: 40px;
  height: 40px;
  pointer-events: none;
  z-index: 10000;
  mix-blend-mode: difference;
}

.cursor-cross::before,
.cursor-cross::after {
  content: '';
  position: absolute;
  background: white;
}

.cursor-cross::before {
  width: 3px;
  height: 40px;
  left: 50%;
  transform: translateX(-50%);
}

.cursor-cross::after {
  width: 40px;
  height: 3px;
  top: 50%;
  transform: translateY(-50%);
}

.cursor-invert {
  position: fixed;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: difference;
  background: white;
  opacity: 0.8;
  transition: width 0.3s, height 0.3s;
}

.cursor-invert.hover {
  width: 180px;
  height: 180px;
}

/* Text Effects */
.text-glitch {
  position: relative;
  display: inline-block;
}

.text-glitch::before,
.text-glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.text-glitch::before {
  left: 2px;
  text-shadow: -2px 0 #FF00FF;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch 5s infinite linear alternate-reverse;
}

.text-glitch::after {
  left: -2px;
  text-shadow: -2px 0 #00FFFF;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch 5s infinite linear alternate-reverse;
  animation-delay: 0.5s;
}

.text-neon {
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 20px currentColor,
    0 0 40px currentColor;
}

.text-rainbow {
  background: linear-gradient(
    90deg,
    #FF00FF 0%,
    #00FFFF 25%,
    #F0FF00 50%,
    #FF6B00 75%,
    #FF00FF 100%
  );
  background-size: 200% auto;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rainbow 3s linear infinite;
}

@keyframes rainbow {
  to { background-position: 200% center; }
}

/* CRT Effect */
.crt-effect {
  animation: flicker 0.15s infinite;
}

@keyframes flicker {
  0% { opacity: 0.97; }
  5% { opacity: 0.98; }
  10% { opacity: 0.96; }
  15% { opacity: 1; }
  20% { opacity: 0.97; }
  25% { opacity: 0.98; }
  30% { opacity: 0.96; }
  35% { opacity: 0.97; }
  40% { opacity: 1; }
  45% { opacity: 0.98; }
  50% { opacity: 0.97; }
  55% { opacity: 0.99; }
  60% { opacity: 1; }
  65% { opacity: 0.97; }
  70% { opacity: 0.99; }
  75% { opacity: 0.98; }
  80% { opacity: 0.97; }
  85% { opacity: 1; }
  90% { opacity: 0.99; }
  95% { opacity: 0.97; }
  100% { opacity: 0.98; }
}

/* Scanlines */
.scanlines {
  position: relative;
}

.scanlines::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.3) 2px,
    rgba(0, 0, 0, 0.3) 4px
  );
  pointer-events: none;
  z-index: 1;
}

/* Section backgrounds */
.section-hero {
  background:
    linear-gradient(135deg, transparent 24%, rgba(240, 255, 0, 0.03) 25%, rgba(240, 255, 0, 0.03) 26%, transparent 27%, transparent 74%, rgba(240, 255, 0, 0.03) 75%, rgba(240, 255, 0, 0.03) 76%, transparent 77%, transparent),
    linear-gradient(45deg, transparent 24%, rgba(240, 255, 0, 0.03) 25%, rgba(240, 255, 0, 0.03) 26%, transparent 27%, transparent 74%, rgba(240, 255, 0, 0.03) 75%, rgba(240, 255, 0, 0.03) 76%, transparent 77%, transparent);
  background-size: 50px 50px;
  background-color: #0A0A0A;
}

/* Text outline */
.text-outline {
  text-shadow:
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    -3px 0 0 #000,
    3px 0 0 #000,
    0 -3px 0 #000,
    0 3px 0 #000;
}

/* Loading bar animation */
.loading-bar {
  width: 100%;
  height: 4px;
  background: #1A1A1A;
  overflow: hidden;
  position: relative;
}

.loading-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, #F0FF00, transparent);
  animation: loading 2s infinite;
}

@keyframes loading {
  to {
    left: 100%;
  }
}

/* Retro terminal cursor */
.terminal-cursor::after {
  content: '‚ñê';
  animation: blink 1s step-end infinite;
  color: #F0FF00;
}

/* Scroll animations */
.scroll-animate {
  opacity: 0;
  transform: translateY(60px) scale(0.95);
  transition: opacity 1s ease-out, transform 1s ease-out;
  transition-delay: var(--delay, 0s);
}

.scroll-animate.visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Nav link effect */
.nav-link {
  position: relative;
}

.nav-link::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 3px;
  bottom: -4px;
  left: 0;
  background-color: #F0FF00;
  transform: scaleX(0);
  transform-origin: bottom right;
  transition: transform 0.3s ease-out;
}

.nav-link:hover::after {
  transform: scaleX(1);
  transform-origin: bottom left;
}

@layer utilities {
  .shadow-neo {
    box-shadow: 8px 8px 0px 0px rgba(240, 255, 0, 1);
  }

  .shadow-neo-pink {
    box-shadow: 8px 8px 0px 0px rgba(255, 0, 255, 1);
  }

  .shadow-neo-cyan {
    box-shadow: 8px 8px 0px 0px rgba(0, 255, 255, 1);
  }

  .animate-blink {
    animation: blink 1s step-end infinite;
  }

  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  .animate-glitch {
    animation: glitch 0.3s ease-in-out infinite;
  }
}

@keyframes blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes glitch {
  0% {
    transform: translate(0);
  }
  20% {
    transform: translate(-2px, 2px);
  }
  40% {
    transform: translate(-2px, -2px);
  }
  60% {
    transform: translate(2px, 2px);
  }
  80% {
    transform: translate(2px, -2px);
  }
  100% {
    transform: translate(0);
  }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #0a0a0a;
  border-left: 3px solid #f0ff00;
}

::-webkit-scrollbar-thumb {
  background: #f0ff00;
  border: 2px solid #0a0a0a;
}

::-webkit-scrollbar-thumb:hover {
  background: #ff00ff;
}

/* Markdown Prose Styling */
.prose {
  @apply max-w-none;
}

.prose h1 {
  @apply text-3xl font-bold text-kintsugi-gold mb-4 font-mono;
}

.prose h2 {
  @apply text-2xl font-bold text-cyber-pink mb-3 font-mono;
}

.prose h3 {
  @apply text-xl font-bold text-cyber-cyan mb-2 font-mono;
}

.prose p {
  @apply mb-4 text-digital-white/90 font-mono;
}

.prose ul, .prose ol {
  @apply mb-4 ml-6 font-mono;
}

.prose li {
  @apply mb-2 text-digital-white/90;
}

.prose a {
  @apply text-kintsugi-gold hover:text-cyber-pink underline;
}

.prose code {
  @apply bg-cyber-pink/20 px-2 py-1 rounded text-cyber-pink font-mono text-sm;
}

.prose pre {
  @apply bg-digital-black border-3 border-kintsugi-gold p-4 rounded overflow-x-auto mb-4;
}

.prose blockquote {
  @apply border-l-4 border-cyber-pink pl-4 italic text-digital-white/80 my-4;
}

.prose table {
  @apply w-full border-3 border-kintsugi-gold mb-4;
}

.prose th {
  @apply bg-kintsugi-gold text-digital-black font-bold p-2 border-2 border-digital-black;
}

.prose td {
  @apply p-2 border-2 border-kintsugi-gold/30;
}

/* Loading Spinner */
.spinner {
  border: 3px solid rgba(240, 255, 0, 0.3);
  border-radius: 50%;
  border-top: 3px solid #f0ff00;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
